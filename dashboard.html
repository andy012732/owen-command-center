<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾·è°·æ‹‰å­¸é•·æˆ°ç•¥æŒ‡æ®éƒ¨ V3.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #020617; color: #f8fafc; font-family: 'Noto Sans TC', sans-serif; overflow-x: hidden; }
        .cyber-font { font-family: 'Orbitron', sans-serif; }
        .neon-blue { border: 1px solid #0ea5e9; box-shadow: 0 0 20px rgba(14, 165, 233, 0.3); }
        .neon-text-blue { color: #0ea5e9; text-shadow: 0 0 10px #0ea5e9; }
        .glow-card { background: rgba(15, 23, 42, 0.7); border: 1px solid #1e293b; backdrop-filter: blur(12px); transition: all 0.3s ease; }
        .glow-card:hover { border-color: #38bdf8; transform: translateY(-2px); }
        .status-tag { font-size: 0.65rem; padding: 2px 10px; border-radius: 4px; text-transform: uppercase; font-weight: bold; }
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* èªè­‰ä»‹é¢ç¾åŒ– */
        #auth-overlay { position: fixed; inset: 0; background: #020617; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .pin-input { background: #0f172a; border: 1px solid #1e293b; color: #0ea5e9; font-size: 2rem; width: 200px; text-align: center; letter-spacing: 0.5rem; outline: none; border-radius: 8px; }
        .pin-input:focus { border-color: #0ea5e9; box-shadow: 0 0 15px rgba(14, 165, 233, 0.5); }
        /* æ²è»¸ç¾åŒ– */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #020617; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #0ea5e9; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- AUTH OVERLAY -->
    <div id="auth-overlay" class="fade-in">
        <h1 class="cyber-font text-2xl font-black neon-text-blue mb-2 italic">IDENTITY REQUIRED</h1>
        <p class="text-gray-500 text-[10px] tracking-[0.3em] uppercase mb-8">æˆ°ç•¥æŒ‡æ®éƒ¨ãƒ»èº«ä»½é©—è­‰ç³»çµ±</p>
        <input type="password" id="pin-input" class="pin-input cyber-font" maxlength="4" placeholder="â€¢â€¢â€¢â€¢">
        <p id="auth-error" class="text-red-500 text-[10px] mt-4 opacity-0">é©—è­‰å¤±æ•—ï¼šä»£ç¢¼éŒ¯èª¤</p>
        <div class="mt-10 text-[8px] text-gray-700 cyber-font tracking-widest">OWNED BY DRACULA / SECURED BY OWEN</div>
    </div>

    <!-- MAIN CONTENT WRAPPER (HIDDEN BY DEFAULT) -->
    <div id="hq-content" class="hidden">
        <!-- TOP HEADER -->
        <header class="flex justify-between items-end mb-8 border-b border-sky-900/50 pb-6">
        <div>
            <div class="flex items-center gap-2 mb-1">
                <span class="w-3 h-3 bg-red-500 rounded-full animate-pulse"></span>
                <span class="text-[10px] cyber-font text-sky-400 tracking-[0.3em] uppercase">System Live: v3.0 Tactical</span>
            </div>
            <h1 class="cyber-font text-4xl md:text-5xl font-black neon-text-blue tracking-tighter italic">DRACULA COMMAND</h1>
            <p class="text-sky-500/80 font-bold tracking-[0.2em] mt-1 text-xs">å¾·è°·æ‹‰å­¸é•·æˆ°ç•¥æŒ‡æ®éƒ¨ | æ­æ–‡ç‰¹åŠ©ç³»çµ±</p>
        </div>
        <div class="text-right hidden md:block">
            <p class="text-[10px] text-sky-400 uppercase tracking-widest mb-1">3/14 å€’æ•¸ç™¼å°„</p>
            <div id="countdown" class="cyber-font text-2xl font-bold text-white">---</div>
        </div>
    </header>

    <!-- MAIN VIEW -->
    <div id="main-view" class="fade-in">
        <!-- GLOBAL BAR -->
        <section class="glow-card p-6 rounded-2xl border-l-4 border-green-500 mb-8 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-2 opacity-10">
                <svg width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
            </div>
            <div class="flex justify-between items-center">
                <div>
                    <h3 class="text-[10px] text-green-400 mb-1 uppercase tracking-[0.2em] font-bold">ç´¯ç©ç¸½é«”æˆ°æœåŒ¯ç¸½</h3>
                    <p class="text-4xl md:text-5xl font-black cyber-font text-white">NT$ 15,623,657</p>
                </div>
                <div class="text-right">
                    <p class="text-[10px] text-gray-500 uppercase">3/14 æˆ°ç•¥ç›®æ¨™</p>
                    <p class="text-xl font-bold text-green-500">NT$ 20,000,000</p>
                    <p class="text-[10px] text-sky-400 mt-1 cyber-font">é”æˆç‡ 78.1%</p>
                </div>
            </div>
            <div class="w-full bg-gray-900/80 h-3 mt-6 rounded-sm p-[2px]">
                <div class="bg-gradient-to-r from-green-600 to-green-400 h-full shadow-[0_0_15px_#22c55e]" style="width: 78.1%"></div>
            </div>
        </section>

        <!-- DASHBOARD GRID (REVENUE & MISSIONS) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <!-- Daily Revenue Summary -->
            <div>
                <h2 class="cyber-font text-[10px] text-sky-500 mb-4 tracking-[0.5em] uppercase px-2">ä»Šæ—¥æˆ°æƒ…å ±å‘Š (2/12)</h2>
                <div class="space-y-4">
                    <div onclick="showDetail('zhubei')" class="glow-card p-4 rounded-xl cursor-pointer flex justify-between items-center hover:neon-blue border-l-4 border-sky-500">
                        <div>
                            <h3 class="text-xs font-bold text-gray-300">ç«¹åŒ—æ——è‰¦éƒ¨</h3>
                            <p class="text-2xl font-bold cyber-font mt-1">$52,750</p>
                        </div>
                        <span class="text-[10px] text-sky-500 italic">ç ”ç©¶è©³æƒ… â”</span>
                    </div>
                    <div onclick="showDetail('xinfeng')" class="glow-card p-4 rounded-xl cursor-pointer flex justify-between items-center hover:neon-blue border-l-4 border-yellow-500">
                        <div>
                            <h3 class="text-xs font-bold text-gray-300">æ–°è±åˆ†éƒ¨</h3>
                            <p class="text-2xl font-bold cyber-font text-yellow-400 mt-1">$28,630</p>
                        </div>
                        <span class="text-[10px] text-yellow-500 italic">ç ”ç©¶è©³æƒ… â”</span>
                    </div>
                    <div onclick="showDetail('online')" class="glow-card p-4 rounded-xl cursor-pointer flex justify-between items-center hover:neon-blue border-l-4 border-purple-500">
                        <div>
                            <h3 class="text-xs font-bold text-gray-300">ç·šä¸Šå®˜ç¶² (91APP)</h3>
                            <p class="text-2xl font-bold cyber-font text-purple-400 mt-1">$0</p>
                        </div>
                        <span class="text-[10px] text-purple-500 italic">åµæŸ¥è©³æƒ… â”</span>
                    </div>
                </div>
            </div>

            <!-- Mission Command Center -->
            <div>
                <h2 class="cyber-font text-[10px] text-sky-500 mb-4 tracking-[0.5em] uppercase px-2">æˆ°ç•¥ä»»å‹™çœ‹æ¿ (Missions)</h2>
                <div class="grid grid-cols-1 gap-4">
                    <!-- Marketing -->
                    <div onclick="showMission('marketing')" class="glow-card p-4 rounded-xl cursor-pointer hover:border-red-500/50 flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded bg-red-900/20 flex items-center justify-center border border-red-500/30">
                                <span class="text-red-500 text-sm">âš”ï¸</span>
                            </div>
                            <div>
                                <h3 class="text-xs font-bold text-gray-200">è¡ŒéŠ·å‰ç·š (æ™¯æ£ /æŸšå­)</h3>
                                <p class="text-[10px] text-red-400 mt-1 animate-pulse">â— 3/14 å½±ç‰‡è…³æœ¬ç¼ºå¤±</p>
                            </div>
                        </div>
                        <span class="text-[10px] text-gray-500">æª¢è¦–é€²åº¦ â”</span>
                    </div>
                    <!-- Operation -->
                    <div onclick="showMission('ops')" class="glow-card p-4 rounded-xl cursor-pointer hover:border-yellow-500/50 flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded bg-yellow-900/20 flex items-center justify-center border border-yellow-500/30">
                                <span class="text-yellow-500 text-sm">ğŸª</span>
                            </div>
                            <div>
                                <h3 class="text-xs font-bold text-gray-200">é–€å¸‚æˆ°åŠ› (é˜¿å¾·/é †æ·µ)</h3>
                                <p class="text-[10px] text-yellow-400 mt-1">â— å†¬å­£ç››å…¸ç©åˆ†æ›´æ–°ä¸­</p>
                            </div>
                        </div>
                        <span class="text-[10px] text-gray-500">æª¢è¦–é€²åº¦ â”</span>
                    </div>
                    <!-- Development -->
                    <div onclick="showMission('dev')" class="glow-card p-4 rounded-xl cursor-pointer hover:border-green-500/50 flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded bg-green-900/20 flex items-center justify-center border border-green-500/30">
                                <span class="text-green-400 text-sm">ğŸ“±</span>
                            </div>
                            <div>
                                <h3 class="text-xs font-bold text-gray-200">ç”¢å“é–‹ç™¼ (å­¸é•·/æ­æ–‡)</h3>
                                <p class="text-[10px] text-green-400 mt-1">â— GyberPass æ ¸å¿ƒç©©å®šæ¸¬è©¦</p>
                            </div>
                        </div>
                        <span class="text-[10px] text-gray-500">æª¢è¦–é€²åº¦ â”</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- QUICK STATS -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="glow-card p-4 rounded-lg text-center border-b border-sky-500">
                <p class="text-[9px] text-gray-500 uppercase tracking-widest">å…¨é–€å¸‚å‡æ—¥</p>
                <p class="text-lg font-bold cyber-font">$27,171</p>
            </div>
            <div class="glow-card p-4 rounded-lg text-center border-b border-purple-500">
                <p class="text-[9px] text-gray-500 uppercase tracking-widest">æ•¸ä½æ”¯ä»˜æ¯”</p>
                <p class="text-lg font-bold cyber-font">52.9%</p>
            </div>
            <div class="glow-card p-4 rounded-lg text-center border-b border-green-500">
                <p class="text-[9px] text-gray-500 uppercase tracking-widest">ç«¹åŒ—æ¥­ç¸¾æ¬Šé‡</p>
                <p class="text-lg font-bold cyber-font">64.3%</p>
            </div>
            <div class="glow-card p-4 rounded-lg text-center border-b border-orange-500">
                <p class="text-[9px] text-gray-500 uppercase tracking-widest">æ­·å²å–®æœˆå·”å³°</p>
                <p class="text-lg font-bold cyber-font">$1.93M</p>
            </div>
        </div>
    </div>

    <!-- MISSION VIEW -->
    <div id="mission-view" class="hidden fade-in">
        <button onclick="showMain()" class="mb-6 text-sky-400 hover:text-white flex items-center gap-2 text-xs font-bold cyber-font">
            â—€ BACK TO COMMAND / è¿”å›ç¸½éƒ¨
        </button>
        <div class="glow-card p-8 rounded-2xl border-t-4" id="mission-container">
            <h2 id="mission-title" class="text-3xl font-black cyber-font mb-2 uppercase">MISSION_TITLE</h2>
            <p id="mission-subtitle" class="text-gray-400 text-sm mb-8 italic">æ­£åœ¨åŒæ­¥ Notion å¯¦æ™‚æˆ°æ³...</p>
            
            <div id="mission-content" class="space-y-6">
                <!-- Task List will be injected here -->
            </div>
        </div>
    </div>

    <!-- DETAIL VIEW -->
    <div id="detail-view" class="hidden fade-in">
        <button onclick="showMain()" class="mb-6 text-sky-400 hover:text-white flex items-center gap-2 text-xs font-bold cyber-font">
            â—€ BACK TO COMMAND / è¿”å›ç¸½éƒ¨
        </button>
        
        <div class="glow-card p-8 rounded-2xl border-t-4" id="detail-container">
            <div class="flex flex-col md:flex-row justify-between items-start gap-6">
                <div class="flex-1">
                    <h2 id="detail-title" class="text-3xl font-black cyber-font mb-2">STORE_NAME</h2>
                    <p id="detail-desc" class="text-gray-400 text-sm mb-6">é–€å¸‚æ·±åº¦ç ”ç©¶æ•¸æ“š</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-slate-900/50 p-4 rounded border border-slate-800">
                            <p class="text-[10px] text-gray-500 uppercase">æ­·å¹´ç¸½æ¥­ç¸¾</p>
                            <p id="store-total" class="text-2xl font-bold cyber-font">---</p>
                        </div>
                        <div class="bg-slate-900/50 p-4 rounded border border-slate-800">
                            <p class="text-[10px] text-gray-500 uppercase">æ”¯ä»˜çµæ§‹æ¯” (æ•¸ä½/ç¾é‡‘)</p>
                            <p id="store-ratio" class="text-2xl font-bold cyber-font">---</p>
                        </div>
                        <div class="bg-slate-900/50 p-4 rounded border border-slate-800">
                            <p class="text-[10px] text-gray-500 uppercase">æˆ°ç•¥æ¬Šé‡</p>
                            <p id="store-weight" class="text-2xl font-bold cyber-font">---</p>
                        </div>
                    </div>

                    <div class="border-t border-slate-800 pt-6">
                        <h4 class="text-xs font-bold text-sky-500 mb-4 cyber-font">MONTHLY PERFORMANCE / æœˆåº¦è¡¨ç¾è¶¨å‹¢</h4>
                        <div id="chart-placeholder" class="h-64 flex items-end justify-between gap-2 px-4 border-b border-slate-800 pb-2">
                            <!-- JS will inject bars here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div><!-- END HQ CONTENT -->

    <script>
        // --- èº«ä»½é©—è­‰ç³»çµ± ---
        const pinInput = document.getElementById('pin-input');
        const authOverlay = document.getElementById('auth-overlay');
        const hqContent = document.getElementById('hq-content');
        const authError = document.getElementById('auth-error');

        // åŠ å¯†å¯†ç¢¼ (ç°¡å–®æ··æ·†è™•ç†)
        const TARGET_HASH = "MzczNg=="; // 0326 base64

        pinInput.addEventListener('input', (e) => {
            if (e.target.value.length === 4) {
                if (btoa(e.target.value) === TARGET_HASH) {
                    authOverlay.style.display = 'none';
                    hqContent.classList.remove('hidden');
                    // è¨˜éŒ„å·²ç™»å…¥
                    sessionStorage.setItem('dracula_auth', 'true');
                } else {
                    authError.style.opacity = '1';
                    e.target.value = '';
                    setTimeout(() => { authError.style.opacity = '0'; }, 2000);
                }
            }
        });

        // æª¢æŸ¥ Session
        if (sessionStorage.getItem('dracula_auth') === 'true') {
            authOverlay.style.display = 'none';
            hqContent.classList.remove('hidden');
        }

        const storeData = {
            zhubei: { name: "ç«¹åŒ—æ——è‰¦é–€å¸‚", total: "$10,047,550", ratio: "58% / 42%", weight: "64.3%", color: "#0ea5e9", history: [70, 85, 60, 95, 80, 88, 75, 78, 92] },
            xinfeng: { name: "æ–°è±åˆ†éƒ¨é–€å¸‚", total: "$5,576,107", ratio: "45% / 55%", weight: "35.7%", color: "#eab308", history: [40, 55, 30, 45, 50, 48, 35, 38, 52] },
            online: { name: "ç·šä¸Šå®˜æ–¹å•†åŸ", total: "æ•¸æ“šä¸²æ¥ä¸­", ratio: "100% / 0%", weight: "Pending", color: "#a855f7", history: [0, 0, 0, 0, 0, 0, 0, 0, 0] }
        };

        const missionData = {
            marketing: {
                title: "è¡ŒéŠ·å‰ç·š (æ™¯æ£ /æŸšå­)",
                color: "#f87171",
                tasks: [
                    { name: "3/14 å››é€±å¹´ä¸»å®£å‚³å½±ç‰‡", status: "ç¼ºå°‘è…³æœ¬", urgent: true },
                    { name: "æ˜¥ç¯€å‰ç¦è¢‹è…³æœ¬2-å‡ºæ¸…è³ªç–‘ç¯‡", status: "å·²å‰ªè¼¯", urgent: false },
                    { name: "314 ç´™ç‰Œ/å¸ƒæ¢å¯¦é«”è£½ä½œ", status: "ç¾ç·¨å·²æäº¤", urgent: false }
                ]
            },
            ops: {
                title: "é–€å¸‚æˆ°åŠ› (é˜¿å¾·/é †æ·µ)",
                color: "#fbbf24",
                tasks: [
                    { name: "å†¬å­£ç››å…¸å‡ºå‹¤ç©åˆ†çµ±è¨ˆ", status: "å®¶å¿—/é †æ·µè£œéŒ„ä¸­", urgent: false },
                    { name: "æ–°è±åº— G/H å€å¡Šæ·±åº¦æ¸…æ½”", status: "é˜¿å¾·åŸ·è¡Œä¸­", urgent: false },
                    { name: "å®¢è¨‚å–® LS2 FF906 3XL è¿½è¹¤", status: "ç¼ºä»¶å¾…è¨‚", urgent: true }
                ]
            },
            dev: {
                title: "ç”¢å“é–‹ç™¼ (å­¸é•·/æ­æ–‡)",
                color: "#4ade80",
                tasks: [
                    { name: "GyberPass é›™æ¨¡å¼å”å®šæ¸¬è©¦", status: "ç©©å®šåº¦å„ªåŒ–ä¸­", urgent: false },
                    { name: "3/14 App é ˜åˆ¸è‡ªå‹•åŒ–é‚è¼¯", status: "è¨­è¨ˆä¸­", urgent: false },
                    { name: "æˆ°ç•¥æŒ‡æ®éƒ¨ Dashboard V3.2", status: "å·²éƒ¨ç½²", urgent: false }
                ]
            }
        };

        // --- è·¯ç”±ç³»çµ± (æ”¯æ´ç€è¦½å™¨å›é€€) ---
        function navigateTo(view, id = null) {
            window.scrollTo(0, 0);
            const state = { view, id };
            history.pushState(state, "", "");
            renderView(view, id);
        }

        window.onpopstate = function(event) {
            if (event.state) {
                renderView(event.state.view, event.state.id);
            } else {
                renderView('main');
            }
        };

        function renderView(view, id) {
            // å…ˆéš±è—æ‰€æœ‰
            document.getElementById('main-view').classList.add('hidden');
            document.getElementById('mission-view').classList.add('hidden');
            document.getElementById('detail-view').classList.add('hidden');

            if (view === 'main') {
                document.getElementById('main-view').classList.remove('hidden');
            } else if (view === 'mission') {
                document.getElementById('mission-view').classList.remove('hidden');
                updateMissionView(id);
            } else if (view === 'detail') {
                document.getElementById('detail-view').classList.remove('hidden');
                updateDetailView(id);
            }
        }

        function showMain() { navigateTo('main'); }
        function showMission(id) { navigateTo('mission', id); }
        function showDetail(id) { navigateTo('detail', id); }

        function updateMissionView(missionId) {
            const data = missionData[missionId];
            document.getElementById('mission-container').style.borderColor = data.color;
            document.getElementById('mission-title').innerText = data.title;
            document.getElementById('mission-title').style.color = data.color;
            
            const content = document.getElementById('mission-content');
            content.innerHTML = '';
            data.tasks.forEach(t => {
                const item = document.createElement('div');
                item.className = 'flex justify-between items-center bg-slate-900/50 p-4 rounded border border-slate-800';
                item.innerHTML = `
                    <div>
                        <p class="text-sm font-bold ${t.urgent ? 'text-red-400' : 'text-gray-200'}">${t.name}</p>
                        <p class="text-[10px] text-gray-500 mt-1">${t.status}</p>
                    </div>
                    ${t.urgent ? '<span class="status-tag bg-red-900/40 text-red-400 border border-red-500/50 animate-pulse">URGENT</span>' : '<span class="status-tag bg-slate-800 text-gray-400">ACTIVE</span>'}
                `;
                content.appendChild(item);
            });
        }

        function updateDetailView(storeId) {
            const data = storeData[storeId];
            document.getElementById('detail-container').style.borderColor = data.color;
            document.getElementById('detail-title').innerText = data.name;
            document.getElementById('detail-title').style.color = data.color;
            document.getElementById('store-total').innerText = data.total;
            document.getElementById('store-ratio').innerText = data.ratio;
            document.getElementById('store-weight').innerText = data.weight;
            
            const chart = document.getElementById('chart-placeholder');
            chart.innerHTML = '';
            data.history.forEach(h => {
                const bar = document.createElement('div');
                bar.className = 'w-full rounded-t opacity-80';
                bar.style.height = h + '%';
                bar.style.backgroundColor = data.color;
                bar.style.boxShadow = `0 0 10px ${data.color}44`;
                chart.appendChild(bar);
            });
        }

        // åˆå§‹åŒ–ç‹€æ…‹
        history.replaceState({view: 'main'}, "", "");

        function updateCountdown() {
            const target = new Date("2026-03-14T00:00:00").getTime();
            const now = new Date().getTime();
            const dist = target - now;
            const d = Math.floor(dist / (1000 * 60 * 60 * 24));
            const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById("countdown").innerHTML = `${d}D ${h}H ${m}M`;
        }
        setInterval(updateCountdown, 1000); updateCountdown();
    </script>
</body>
</html>
