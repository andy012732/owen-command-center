<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾·è°·æ‹‰å­¸é•·æˆ°ç•¥æŒ‡æ®éƒ¨ V4.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #020617; color: #f8fafc; font-family: 'Noto Sans TC', sans-serif; overflow-x: hidden; }
        .cyber-font { font-family: 'Orbitron', sans-serif; }
        .neon-blue { border: 1px solid #0ea5e9; box-shadow: 0 0 20px rgba(14, 165, 233, 0.3); }
        .neon-text-blue { color: #0ea5e9; text-shadow: 0 0 10px #0ea5e9; }
        .glow-card { background: rgba(15, 23, 42, 0.7); border: 1px solid #1e293b; backdrop-filter: blur(12px); transition: all 0.3s ease; }
        .glow-card:hover { border-color: #38bdf8; transform: translateY(-2px); }
        .status-tag { font-size: 0.65rem; padding: 2px 10px; border-radius: 4px; text-transform: uppercase; font-weight: bold; }
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        #auth-overlay { position: fixed; inset: 0; background: #020617; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .pin-input { background: #0f172a; border: 1px solid #1e293b; color: #0ea5e9; font-size: 2rem; width: 200px; text-align: center; letter-spacing: 0.5rem; outline: none; border-radius: 8px; }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #020617; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- AUTH OVERLAY -->
    <div id="auth-overlay" class="fade-in">
        <h1 class="cyber-font text-2xl font-black neon-text-blue mb-2 italic">IDENTITY REQUIRED</h1>
        <p class="text-gray-500 text-[10px] tracking-[0.3em] uppercase mb-8">æˆ°ç•¥æŒ‡æ®éƒ¨ãƒ»èº«ä»½é©—è­‰ç³»çµ±</p>
        <input type="password" id="pin-input" class="pin-input cyber-font" maxlength="4" placeholder="â€¢â€¢â€¢â€¢">
        <p id="auth-error" class="text-red-500 text-[10px] mt-4 opacity-0">é©—è­‰å¤±æ•—ï¼šä»£ç¢¼éŒ¯èª¤</p>
        <div class="mt-10 text-[8px] text-gray-700 cyber-font tracking-widest">OWNED BY DRACULA / SECURED BY OWEN</div>
    </div>

    <!-- MAIN CONTENT WRAPPER -->
    <div id="hq-content" class="hidden">
        <header class="flex justify-between items-end mb-8 border-b border-sky-900/50 pb-6">
            <div>
                <div class="flex items-center gap-2 mb-1">
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    <span class="text-[9px] cyber-font text-sky-400 tracking-[0.3em] uppercase">Tactical HQ v4.0 Active</span>
                </div>
                <h1 class="cyber-font text-4xl md:text-5xl font-black neon-text-blue tracking-tighter italic">DRACULA COMMAND</h1>
                <p class="text-sky-500/80 font-bold tracking-[0.2em] mt-1 text-xs">å¾·è°·æ‹‰å­¸é•·æˆ°ç•¥æŒ‡æ®éƒ¨ | æ­æ–‡ AI æ±ºç­–ç³»çµ±</p>
            </div>
            <div class="text-right hidden md:block">
                <p class="text-[10px] text-sky-400 uppercase tracking-widest mb-1">3/14 å€’æ•¸ç™¼å°„</p>
                <div id="countdown" class="cyber-font text-2xl font-bold text-white">---</div>
            </div>
        </header>

        <div id="main-view" class="fade-in">
            <!-- FEATURE 1: TODAY'S PROGRESS (å³æ™‚æˆ°æ³) -->
            <section class="glow-card p-6 rounded-2xl border-l-4 border-sky-500 mb-8 relative overflow-hidden">
                <div class="flex justify-between items-end mb-4">
                    <div>
                        <h3 class="text-[10px] text-sky-400 mb-1 uppercase tracking-[0.2em] font-bold">ä»Šæ—¥å…¨ç·šç‡Ÿæ”¶é€²åº¦ (Today's Progress)</h3>
                        <div class="flex items-baseline gap-4">
                            <p class="text-4xl font-black cyber-font text-white">$81,380</p>
                            <p class="text-xs font-bold text-green-400">â–² 15.2% <span class="text-[8px] text-gray-500">vs ä¸Šé€±åŒæœŸ</span></p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-[10px] text-gray-500 uppercase">ä»Šæ—¥ç›®æ¨™: $100,000</p>
                        <p class="text-xs cyber-font text-sky-300">PACE: 81.3%</p>
                    </div>
                </div>
                <div class="w-full bg-gray-900/80 h-3 rounded-full border border-sky-900/50">
                    <div class="bg-gradient-to-r from-sky-600 to-cyan-300 h-full rounded-full shadow-[0_0_15px_#0ea5e9]" style="width: 81.3%"></div>
                </div>
                <div class="absolute top-4 right-4 flex items-center gap-2 bg-slate-900/80 px-3 py-1 rounded-full border border-slate-700">
                    <span class="text-lg">â˜€ï¸</span>
                    <span class="text-[10px] text-gray-300 cyber-font uppercase">Sunny / 24Â°C</span>
                </div>
            </section>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                <div class="lg:col-span-2 space-y-6">
                    <h2 class="cyber-font text-[10px] text-sky-500 tracking-[0.5em] uppercase px-2">é–€å¸‚æˆ°åŠ›æ’è¡Œ (Leaderboard)</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Zhubei Card -->
                        <div onclick="showDetail('zhubei')" class="glow-card p-5 rounded-xl cursor-pointer hover:neon-blue relative group">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-sm font-bold text-sky-400">ç«¹åŒ—æ——è‰¦éƒ¨</h3>
                                <span class="text-[10px] text-green-400 font-bold">WoW +18% ğŸ”¥</span>
                            </div>
                            <p class="text-3xl font-black cyber-font text-white">$52,750</p>
                            <div class="mt-4 flex items-center gap-3">
                                <div class="flex-1 bg-gray-900 h-1 rounded-full"><div class="bg-sky-500 h-full" style="width: 60%"></div></div>
                                <span class="text-[9px] text-gray-500 italic">æ•¸ä½æ”¯ä»˜ 60%</span>
                            </div>
                        </div>
                        <!-- Xinfeng Card (Anomaly Alert) -->
                        <div onclick="showDetail('xinfeng')" class="glow-card p-5 rounded-xl cursor-pointer hover:neon-blue border-red-900/30">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-sm font-bold text-yellow-500">æ–°è±åˆ†éƒ¨</h3>
                                <div class="flex items-center gap-1 text-red-500 animate-pulse"><span class="text-xs">âš ï¸</span><span class="text-[8px] font-bold">æ”¯ä»˜ç•°å¸¸</span></div>
                            </div>
                            <p class="text-3xl font-black cyber-font text-yellow-500">$28,630</p>
                            <div class="mt-4 flex items-center gap-3">
                                <div class="flex-1 bg-gray-900 h-1 rounded-full"><div class="bg-red-500 h-full" style="width: 14%"></div></div>
                                <span class="text-[9px] text-red-400 italic">æ•¸ä½ 14% (é€£ç·šæª¢æŸ¥)</span>
                            </div>
                        </div>
                    </div>

                    <!-- FEATURE 3: WEATHER CHART -->
                    <div class="glow-card p-6 rounded-2xl">
                        <h4 class="cyber-font text-[10px] text-gray-500 mb-6 uppercase tracking-widest text-center">è¶¨å‹¢ vs å¤©æ°£é€£å‹•ç³»çµ±</h4>
                        <div class="h-32 flex items-end justify-between gap-4 px-4">
                            <div class="flex flex-col items-center gap-1 w-full"><div class="bg-sky-500/20 w-full rounded-t" style="height: 30%"></div><span class="text-xs">ğŸŒ§ï¸</span></div>
                            <div class="flex flex-col items-center gap-1 w-full"><div class="bg-sky-500/40 w-full rounded-t" style="height: 60%"></div><span class="text-xs">â˜ï¸</span></div>
                            <div class="flex flex-col items-center gap-1 w-full"><div class="bg-sky-500/80 w-full rounded-t shadow-[0_0_10px_#0ea5e9]" style="height: 90%"></div><span class="text-xs">â˜€ï¸</span></div>
                            <div class="flex flex-col items-center gap-1 w-full"><div class="bg-sky-500/50 w-full rounded-t" style="height: 50%"></div><span class="text-xs">ğŸŒ¦ï¸</span></div>
                            <div class="flex flex-col items-center gap-1 w-full"><div class="bg-sky-500/90 w-full rounded-t shadow-[0_0_10px_#0ea5e9]" style="height: 100%"></div><span class="text-xs">â˜€ï¸</span></div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <h2 class="cyber-font text-[10px] text-sky-500 tracking-[0.5em] uppercase px-2">è¡Œå‹•èˆ‡æ±ºç­–</h2>
                    <div class="space-y-4">
                        <div onclick="showMission('marketing')" class="glow-card p-4 rounded-xl cursor-pointer border-r-4 border-red-500 flex justify-between items-center"><span class="text-xs font-bold text-red-400">âš”ï¸ è¡ŒéŠ·å‰ç·š</span><span class="text-[9px] text-red-500 animate-pulse font-black">ALERT</span></div>
                        <div onclick="showMission('ops')" class="glow-card p-4 rounded-xl cursor-pointer border-r-4 border-yellow-500 flex justify-between items-center"><span class="text-xs font-bold text-yellow-400">ğŸª é–€å¸‚æˆ°åŠ›</span><span class="text-[9px] text-gray-500">æ­£å¸¸</span></div>
                    </div>
                    
                    <!-- FEATURE 5: AI INSIGHTS -->
                    <div class="glow-card p-5 rounded-xl border-b-4 border-purple-500">
                        <h3 class="cyber-font text-[9px] text-purple-400 mb-4 tracking-[0.2em] flex items-center gap-2">
                            <span class="w-1.5 h-1.5 bg-purple-500 rounded-full animate-ping"></span> æ­æ–‡ç‰¹åŠ©æ—¥èªŒ (AI INSIGHTS)
                        </h3>
                        <div class="space-y-4 text-[11px] text-gray-400">
                            <p class="border-l-2 border-purple-900/50 pl-2">â— <span class="text-white font-bold">ç«¹åŒ—æ——è‰¦</span> åŒæœŸæˆé•· 18%ï¼Œå»ºè­°é€±äº”åŠ ç¢¼å»£å‘Šã€‚</p>
                            <p class="border-l-2 border-red-900/50 pl-2 text-red-300">â— <span class="font-bold uppercase">Anomaly:</span> æ–°è±æ”¯ä»˜æ¯”ä¾‹ç•°å¸¸ï¼Œç–‘ä¼¼é€£ç·šä¸­æ–·æˆ–å“¡å·¥æ¼åˆ·ã€‚</p>
                            <p class="border-l-2 border-sky-900/50 pl-2">â— æ˜æ—¥å¤©æ°£ ğŸŒ§ï¸ï¼Œå»ºè­°è¡ŒéŠ·é‡å¿ƒè½‰å‘ <span class="text-sky-300 italic">å®˜ç¶² 91APP</span>ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SYSTEM LOGS (Request from previous turn) -->
            <h2 class="cyber-font text-[8px] text-gray-600 mb-2 uppercase tracking-[0.5em] px-2">ç³»çµ±åŸ·è¡Œå±¥æ­·</h2>
            <div class="glow-card p-4 rounded-lg bg-slate-950/50 border-slate-900">
                <div id="system-logs" class="space-y-2 text-[9px] text-gray-500 font-mono">
                    <p>[2026-02-13 01:55] å‡ç´š V4.0 æŒ‡æ®ä¸­å¿ƒ (æ±ºç­–å°å‘ç‰ˆæœ¬)</p>
                    <p>[2026-02-13 01:30] å®‰è£ 0326 å®‰å…¨é›»å­é–</p>
                    <p>[2026-02-13 00:45] å®Œæˆ 1,500 è¬æ­·å²æ•¸æ“šå»ºæ¨¡</p>
                </div>
            </div>
        </div>

        <!-- DRILL DOWN VIEWS (HIDDEN) -->
        <div id="detail-view" class="hidden fade-in">
            <button onclick="showMain()" class="mb-6 text-sky-400 hover:text-white flex items-center gap-2 text-[10px] font-bold cyber-font">â—€ RETURN TO HQ / è¿”å›ç¸½éƒ¨</button>
            <div class="glow-card p-8 rounded-2xl border-t-4" id="detail-container">
                <h2 id="detail-title" class="text-3xl font-black cyber-font mb-6">STORE_NAME</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8" id="detail-metrics"></div>
                <div id="detail-chart" class="h-48 border-b border-slate-800 flex items-end justify-between gap-2"></div>
            </div>
        </div>
        
        <div id="mission-view" class="hidden fade-in">
            <button onclick="showMain()" class="mb-6 text-sky-400 hover:text-white flex items-center gap-2 text-[10px] font-bold cyber-font">â—€ RETURN TO HQ / è¿”å›ç¸½éƒ¨</button>
            <div class="glow-card p-8 rounded-2xl border-t-4" id="mission-container">
                <h2 id="mission-title" class="text-3xl font-black cyber-font mb-6 uppercase">MISSION</h2>
                <div id="mission-content" class="space-y-4"></div>
            </div>
        </div>
    </div>

    <script>
        const pinInput = document.getElementById('pin-input');
        const authOverlay = document.getElementById('auth-overlay');
        const hqContent = document.getElementById('hq-content');
        const authError = document.getElementById('auth-error');
        const TARGET_HASH = "MDMyNg=="; // 0326 base64

        pinInput.addEventListener('input', (e) => {
            if (e.target.value.length === 4) {
                if (btoa(e.target.value) === TARGET_HASH) {
                    authOverlay.style.display = 'none';
                    hqContent.classList.remove('hidden');
                    sessionStorage.setItem('dracula_auth', 'true');
                } else {
                    authError.style.opacity = '1';
                    e.target.value = '';
                    setTimeout(() => { authError.style.opacity = '0'; }, 2000);
                }
            }
        });
        if (sessionStorage.getItem('dracula_auth') === 'true') { authOverlay.style.display = 'none'; hqContent.classList.remove('hidden'); }

        const missionData = {
            marketing: { title: "è¡ŒéŠ·å‰ç·š (æ™¯æ£ /æŸšå­)", color: "#f87171", tasks: [{name: "3/14 å®£å‚³å½±ç‰‡", status: "ç¼ºå°‘è…³æœ¬", urgent: true}, {name: "314 ç´™ç‰Œå¸ƒæ¢", status: "ç¾ç·¨å·²æäº¤", urgent: false}] },
            ops: { title: "é–€å¸‚æˆ°åŠ› (é˜¿å¾·/é †æ·µ)", color: "#fbbf24", tasks: [{name: "å†¬å­£ç››å…¸ç©åˆ†", status: "çµ±è¨ˆä¸­", urgent: false}, {name: "å®¢è¨‚å–® FF906", status: "ç¼ºä»¶å¾…è¨‚", urgent: true}] }
        };

        function navigateTo(view, id = null) {
            window.scrollTo(0, 0);
            document.getElementById('main-view').classList.add('hidden');
            document.getElementById('detail-view').classList.add('hidden');
            document.getElementById('mission-view').classList.add('hidden');
            if(view==='main') document.getElementById('main-view').classList.remove('hidden');
            if(view==='detail') { document.getElementById('detail-view').classList.remove('hidden'); updateDetail(id); }
            if(view==='mission') { document.getElementById('mission-view').classList.remove('hidden'); updateMission(id); }
        }
        function showMain() { navigateTo('main'); }
        function showDetail(id) { navigateTo('detail', id); }
        function showMission(id) { navigateTo('mission', id); }

        function updateMission(id) {
            const d = missionData[id];
            document.getElementById('mission-title').innerText = d.title;
            document.getElementById('mission-title').style.color = d.color;
            document.getElementById('mission-container').style.borderColor = d.color;
            let html = '';
            d.tasks.forEach(t => {
                html += `<div class="p-4 bg-slate-900/50 rounded border border-slate-800 flex justify-between">
                    <div><p class="font-bold ${t.urgent?'text-red-400':''}">${t.name}</p><p class="text-[10px] text-gray-500">${t.status}</p></div>
                    ${t.urgent?'<span class="text-[8px] bg-red-900/50 p-1 rounded border border-red-500 text-red-400">URGENT</span>':''}
                </div>`;
            });
            document.getElementById('mission-content').innerHTML = html;
        }

        function updateDetail(id) {
            const names = {zhubei: "ç«¹åŒ—æ——è‰¦éƒ¨", xinfeng: "æ–°è±åˆ†éƒ¨", online: "ç·šä¸Šå®˜ç¶²"};
            document.getElementById('detail-title').innerText = names[id];
            document.getElementById('detail-metrics').innerHTML = `
                <div class="bg-slate-900 p-4 rounded border border-slate-800"><p class="text-[8px] text-gray-500 uppercase">æ­·å¹´ç´¯ç©</p><p class="text-xl font-bold cyber-font">$10.04M</p></div>
                <div class="bg-slate-900 p-4 rounded border border-slate-800"><p class="text-[8px] text-gray-500 uppercase">æ”¯ä»˜çµæ§‹</p><p class="text-xl font-bold cyber-font">60:40</p></div>
                <div class="bg-slate-900 p-4 rounded border border-slate-800"><p class="text-[8px] text-gray-500 uppercase">æˆé•·ç‡</p><p class="text-xl font-bold cyber-font text-green-400">+18.2%</p></div>
            `;
        }

        function updateCountdown() {
            const target = new Date("2026-03-14T00:00:00").getTime();
            const now = new Date().getTime();
            const dist = target - now;
            document.getElementById("countdown").innerHTML = Math.floor(dist/(1000*60*60*24))+"D "+Math.floor((dist%(1000*60*60*24))/(1000*60*60))+"H";
        }
        setInterval(updateCountdown, 60000); updateCountdown();
    </script>
</body>
</html>
